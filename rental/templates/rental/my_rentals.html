{% extends 'rental/base.html' %} {% block title %}Moje WynajÄ™cia -WypoÅ¼yczalnia
{% endblock %} {% block content %}
<h1>ğŸ“‹ Moje WynajÄ™cia</h1>

<a href="{% url 'new_rental' %}" class="btn btn-success">+ Nowe WynajÄ™cie</a>

<h2 style="margin-top: 2rem">ğŸ“… Zaplanowane WynajÄ™cia</h2>
{% if planned_rentals %}
<table>
  <thead>
    <tr>
      <th>SprzÄ™t</th>
      <th>Data wynajmu</th>
      <th>Data zwrotu</th>
      <th>Status</th>
      <th>Akcja</th>
    </tr>
  </thead>
  <tbody>
    {% for rental in planned_rentals %}
    <tr>
      <td>{{ rental.equipment.name }}</td>
      <td>{{ rental.rental_date|date:"d.m.Y" }}</td>
      <td>{{ rental.return_date|date:"d.m.Y" }}</td>
      <td><span class="status-active">ğŸ“… Zaplanowane</span></td>
      <td>
        <a href="{% url 'cancel_rental' rental.id %}" class="btn btn-danger"
          onclick="return confirm('Czy na pewno chcesz anulowaÄ‡ to zaplanowane wynajÄ™cie?');">
          Anuluj
        </a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p>Brak zaplanowanych wynajÄ™Ä‡.</p>
{% endif %}

<h2 style="margin-top: 2rem">ğŸ”„ Aktywne WynajÄ™cia</h2>
{% if active_rentals %}
<table>
  <thead>
    <tr>
      <th>SprzÄ™t</th>
      <th>Data wynajmu</th>
      <th>Data zwrotu</th>
      <th>Status</th>
      <th>Akcja</th>
    </tr>
  </thead>
  <tbody>
    {% for rental in active_rentals %}
    <tr>
      <td>{{ rental.equipment.name }}</td>
      <td>{{ rental.rental_date|date:"d.m.Y" }}</td>
      <td>{{ rental.return_date|date:"d.m.Y" }}</td>
      <td><span class="status-active">âœ… Aktywne</span></td>
      <td>
        <a href="{% url 'cancel_rental' rental.id %}" class="btn btn-danger"
          onclick="return confirm('Czy na pewno chcesz anulowaÄ‡ to wynajÄ™cie?');">Anuluj</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p>Brak aktywnych wynajÄ™Ä‡.</p>
{% endif %}

<h2 style="margin-top: 2rem">âœ… UkoÅ„czone WynajÄ™cia</h2>
{% if completed_rentals %}
<table>
  <thead>
    <tr>
      <th>SprzÄ™t</th>
      <th>Data wynajmu</th>
      <th>Data zwrotu</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    {% for rental in completed_rentals %}
    <tr>
      <td>{{ rental.equipment.name }}</td>
      <td>{{ rental.rental_date|date:"d.m.Y" }}</td>
      <td>{{ rental.return_date|date:"d.m.Y" }}</td>
      <td><span class="status-completed">â±ï¸ UkoÅ„czone</span></td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p>Brak ukoÅ„czonych wynajÄ™Ä‡.</p>
{% endif %}

<h2 style="margin-top: 2rem">âŒ Anulowane WynajÄ™cia</h2>
{% if cancelled_rentals %}
<table>
  <thead>
    <tr>
      <th>SprzÄ™t</th>
      <th>Data wynajmu</th>
      <th>Data zwrotu</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    {% for rental in cancelled_rentals %}
    <tr>
      <td>{{ rental.equipment.name }}</td>
      <td>{{ rental.rental_date|date:"d.m.Y" }}</td>
      <td>{{ rental.return_date|date:"d.m.Y" }}</td>
      <td><span class="status-cancelled">âŒ Anulowane</span></td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p>Brak anulowanych wynajÄ™Ä‡.</p>
{% endif %}

<button type="button" class="btn powrot" onclick="window.location.href='{% url 'index' %}'">
  â† PowrÃ³t do listy sprzÄ™tu
</button>

<style>
  .powrot {
    margin-top: 3rem;
  }
</style>
{% endblock %}